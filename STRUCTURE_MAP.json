{
  "normalization_analysis": {
    "timestamp": "2026-02-02T07:02:00Z",
    "project_root": "/media/kali/01DC8D6C49C1BC10/Github/ultra_agent_os_starter",
    "architecture_type": "multi_service_workspace",
    "package_manager": "npm_workspaces"
  },
  "services": {
    "api_service": {
      "path": "apps/api",
      "ports": {
        "standard": 3000,
        "enterprise": 3101,
        "allocated": 3000
      },
      "purpose": "REST_API_endpoints",
      "dockerfile": true,
      "health_check": true
    },
    "worker_service": {
      "path": "apps/worker", 
      "ports": {
        "standard": null,
        "enterprise": 3104,
        "allocated": 3200
      },
      "purpose": "background_job_processing",
      "dockerfile": true,
      "health_check": true
    },
    "ui_service": {
      "path": "apps/ui",
      "ports": {
        "standard": 8088,
        "enterprise": 3103,
        "allocated": 3100
      },
      "purpose": "static_web_interface",
      "dockerfile": true,
      "health_check": true
    },
    "websocket_service": {
      "path": "apps/ws",
      "ports": {
        "standard": null,
        "enterprise": 3102,
        "allocated": 3300
      },
      "purpose": "realtime_communications",
      "dockerfile": true,
      "health_check": true
    }
  },
  "infrastructure": {
    "postgres": {
      "port": 5432,
      "health_check": true
    },
    "redis": {
      "port": 6379,
      "health_check": true
    },
    "nginx": {
      "port": 8080,
      "enterprise_only": true
    }
  },
  "issues_detected": {
    "port_sprawl": {
      "severity": "high",
      "description": "Multiple port configurations across environments",
      "affected_files": [
        "docker-compose.yml",
        "docker-compose.enterprise.yml", 
        ".allocated-ports.json",
        "package.json (CORS origins)"
      ]
    },
    "dashboard_duplication": {
      "severity": "medium", 
      "description": "Multiple dashboard implementations",
      "locations": [
        "unified-dashboard.html",
        "apps/ui/",
        "projects/ultra-agent-unified/ui/"
      ]
    },
    "environment_inconsistency": {
      "severity": "medium",
      "description": "Different configurations between dev and prod",
      "affected_scripts": [
        "start:dev",
        "start:prod"
      ]
    }
  },
  "normalization_plan": {
    "target_architecture": "enterprise",
    "unified_ports": {
      "api": 3101,
      "ws": 3102,
      "ui": 3103,
      "worker": 3104,
      "nginx": 8080,
      "postgres": 5432,
      "redis": 6379
    },
    "primary_dashboard": "unified-dashboard.html",
    "entry_point": "docker-compose.enterprise.yml",
    "required_actions": [
      "update_standard_docker_compose",
      "connect_dashboard_to_api",
      "remove_ui_duplication",
      "unify_port_allocation",
      "update_package_scripts"
    ]
  },
  "status": "ANALYSIS_COMPLETE",
  "ready_for_phase_2": false
}
